(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62f5aef2"],{"02f4":function(t,a,e){var s=e("4588"),r=e("be13");t.exports=function(t){return function(a,e){var n,i,l=String(r(a)),o=s(e),c=l.length;return o<0||o>=c?t?"":void 0:(n=l.charCodeAt(o),n<55296||n>56319||o+1===c||(i=l.charCodeAt(o+1))<56320||i>57343?t?l.charAt(o):n:t?l.slice(o,o+2):i-56320+(n-55296<<10)+65536)}}},"0390":function(t,a,e){"use strict";var s=e("02f4")(!0);t.exports=function(t,a,e){return a+(e?s(t,a).length:1)}},"0bfb":function(t,a,e){"use strict";var s=e("cb7c");t.exports=function(){var t=s(this),a="";return t.global&&(a+="g"),t.ignoreCase&&(a+="i"),t.multiline&&(a+="m"),t.unicode&&(a+="u"),t.sticky&&(a+="y"),a}},"1c4c":function(t,a,e){"use strict";var s=e("9b43"),r=e("5ca1"),n=e("4bf8"),i=e("1fa8"),l=e("33a4"),o=e("9def"),c=e("f1ae"),u=e("27ee");r(r.S+r.F*!e("5cc5")(function(t){Array.from(t)}),"Array",{from:function(t){var a,e,r,d,p=n(t),h="function"==typeof this?this:Array,v=arguments.length,f=v>1?arguments[1]:void 0,g=void 0!==f,m=0,b=u(p);if(g&&(f=s(f,v>2?arguments[2]:void 0,2)),void 0==b||h==Array&&l(b))for(a=o(p.length),e=new h(a);a>m;m++)c(e,m,g?f(p[m],m):p[m]);else for(d=b.call(p),e=new h;!(r=d.next()).done;m++)c(e,m,g?i(d,f,[r.value,m],!0):r.value);return e.length=m,e}})},"214f":function(t,a,e){"use strict";e("b0c5");var s=e("2aba"),r=e("32e9"),n=e("79e5"),i=e("be13"),l=e("2b4c"),o=e("520a"),c=l("species"),u=!n(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),d=function(){var t=/(?:)/,a=t.exec;t.exec=function(){return a.apply(this,arguments)};var e="ab".split(t);return 2===e.length&&"a"===e[0]&&"b"===e[1]}();t.exports=function(t,a,e){var p=l(t),h=!n(function(){var a={};return a[p]=function(){return 7},7!=""[t](a)}),v=h?!n(function(){var a=!1,e=/a/;return e.exec=function(){return a=!0,null},"split"===t&&(e.constructor={},e.constructor[c]=function(){return e}),e[p](""),!a}):void 0;if(!h||!v||"replace"===t&&!u||"split"===t&&!d){var f=/./[p],g=e(i,p,""[t],function(t,a,e,s,r){return a.exec===o?h&&!r?{done:!0,value:f.call(a,e,s)}:{done:!0,value:t.call(e,a,s)}:{done:!1}}),m=g[0],b=g[1];s(String.prototype,t,m),r(RegExp.prototype,p,2==a?function(t,a){return b.call(t,this,a)}:function(t){return b.call(t,this)})}}},"28a5":function(t,a,e){"use strict";var s=e("aae3"),r=e("cb7c"),n=e("ebd6"),i=e("0390"),l=e("9def"),o=e("5f1b"),c=e("520a"),u=e("79e5"),d=Math.min,p=[].push,h="split",v="length",f="lastIndex",g=4294967295,m=!u(function(){RegExp(g,"y")});e("214f")("split",2,function(t,a,e,u){var b;return b="c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[v]||2!="ab"[h](/(?:ab)*/)[v]||4!="."[h](/(.?)(.?)/)[v]||"."[h](/()()/)[v]>1||""[h](/.?/)[v]?function(t,a){var r=String(this);if(void 0===t&&0===a)return[];if(!s(t))return e.call(r,t,a);var n,i,l,o=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,h=void 0===a?g:a>>>0,m=new RegExp(t.source,u+"g");while(n=c.call(m,r)){if(i=m[f],i>d&&(o.push(r.slice(d,n.index)),n[v]>1&&n.index<r[v]&&p.apply(o,n.slice(1)),l=n[0][v],d=i,o[v]>=h))break;m[f]===n.index&&m[f]++}return d===r[v]?!l&&m.test("")||o.push(""):o.push(r.slice(d)),o[v]>h?o.slice(0,h):o}:"0"[h](void 0,0)[v]?function(t,a){return void 0===t&&0===a?[]:e.call(this,t,a)}:e,[function(e,s){var r=t(this),n=void 0==e?void 0:e[a];return void 0!==n?n.call(e,r,s):b.call(String(r),e,s)},function(t,a){var s=u(b,t,this,a,b!==e);if(s.done)return s.value;var c=r(t),p=String(this),h=n(c,RegExp),v=c.unicode,f=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(m?"y":"g"),y=new h(m?c:"^(?:"+c.source+")",f),C=void 0===a?g:a>>>0;if(0===C)return[];if(0===p.length)return null===o(y,p)?[p]:[];var _=0,x=0,D=[];while(x<p.length){y.lastIndex=m?x:0;var w,k=o(y,m?p:p.slice(x));if(null===k||(w=d(l(y.lastIndex+(m?0:x)),p.length))===_)x=i(p,x,v);else{if(D.push(p.slice(_,x)),D.length===C)return D;for(var E=1;E<=k.length-1;E++)if(D.push(k[E]),D.length===C)return D;x=_=w}}return D.push(p.slice(_)),D}]})},"520a":function(t,a,e){"use strict";var s=e("0bfb"),r=RegExp.prototype.exec,n=String.prototype.replace,i=r,l="lastIndex",o=function(){var t=/a/,a=/b*/g;return r.call(t,"a"),r.call(a,"a"),0!==t[l]||0!==a[l]}(),c=void 0!==/()??/.exec("")[1],u=o||c;u&&(i=function(t){var a,e,i,u,d=this;return c&&(e=new RegExp("^"+d.source+"$(?!\\s)",s.call(d))),o&&(a=d[l]),i=r.call(d,t),o&&i&&(d[l]=d.global?i.index+i[0].length:a),c&&i&&i.length>1&&n.call(i[0],e,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(i[u]=void 0)}),i}),t.exports=i},"5df3":function(t,a,e){"use strict";var s=e("02f4")(!0);e("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,a=this._t,e=this._i;return e>=a.length?{value:void 0,done:!0}:(t=s(a,e),this._i+=t.length,{value:t,done:!1})})},"5f1b":function(t,a,e){"use strict";var s=e("23c6"),r=RegExp.prototype.exec;t.exports=function(t,a){var e=t.exec;if("function"===typeof e){var n=e.call(t,a);if("object"!==typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==s(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,a)}},"99c6":function(t,a,e){"use strict";var s=e("b5dd"),r=e.n(s);r.a},aae3:function(t,a,e){var s=e("d3f4"),r=e("2d95"),n=e("2b4c")("match");t.exports=function(t){var a;return s(t)&&(void 0!==(a=t[n])?!!a:"RegExp"==r(t))}},b0c5:function(t,a,e){"use strict";var s=e("520a");e("5ca1")({target:"RegExp",proto:!0,forced:s!==/./.exec},{exec:s})},b5dd:function(t,a,e){},c84b:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"dashboard-container"},[e("div",{staticClass:"dashboard-wrapper"},[e("nav",{staticClass:"nav-column mt-5"},[e("div",{staticClass:"nav-wrapper"},[e("div",{staticClass:"logo ml-4"}),e("button",{staticClass:"btn-back  ml-4",on:{click:t.enterDashboard}}),e("h1",{staticClass:"patient-name ml-3 my-0"},[t._v("Frederick Bradley")])]),e("div",{staticClass:"description-wrapper"},[e("div",{staticClass:"patient-info ml-5"},[e("span",[t._v("Patient ID")]),e("br"),e("span",[t._v(t._s(t.userID))])]),t._m(0),t._m(1),e("a",{staticClass:"hint ml-2 mr-4 ml-5",attrs:{href:"#"},on:{click:function(t){t.preventDefault()}}})])]),e("section",{staticClass:"time-controller mt-5"},[e("div",{staticClass:"time-control-wrapper"},[e("input",{staticClass:"ml-4",attrs:{type:"text",name:"date",disabled:"",id:"date",placeholder:"Select a date"}}),e("span",{attrs:{id:"calendar-trigger"}}),e("div",{staticClass:"range-wrapper ml-3"},[e("label",{staticClass:"mx-2 my-0",attrs:{for:"range"}},[t._v("Time Slider")]),e("span",{staticClass:"mx-2"},[t._v(t._s(t.rangeValue<10?"0"+(t.rangeValue<1?0:t.rangeValue-1):t.rangeValue-1)+":00")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.rangeValue,expression:"rangeValue"}],staticClass:"range",attrs:{type:"range",name:"range",id:"range",max:"24"},domProps:{value:t.rangeValue},on:{change:function(a){return t.toggleHistoryMode(t.nowTime,1)},__r:function(a){t.rangeValue=a.target.value}}}),e("span",{staticClass:"mx-2"},[t._v(t._s(t.rangeValue<10?"0"+t.rangeValue:t.rangeValue)+":00")])])]),t.isHistoryMode?t._e():e("button",{staticClass:"btn-history mr-4"},[e("span",{staticClass:"mr-3"}),t._v("\n          HISTORY\n        ")])]),e("main",{staticClass:"main mt-4"},[e("div",{staticClass:"chart-wrapper ml-4"},[e("div",{staticClass:"chart mb-3"},[e("div",{staticClass:"bg-chart"}),t._m(2),e("div",{staticClass:"chart-status"},[e("div",{staticClass:"status-wrapper ml-3"},[t._m(3),e("span",{staticClass:"chart-value mt-4"},[t._v(t._s(t.breathsRate))]),e("span",{staticClass:"chart-unit"},[t._v("breaths per mins.")])])])]),t._m(4)]),e("div",{staticClass:"map-container ml-3"},[e("div",{staticClass:"map-status"},[e("span",{staticClass:"map-name ml-3 mt-3"},[t._v("2-D Mapping")]),e("div",{staticClass:"map-status-wrapper"},[e("span",{staticClass:"map-signal-wrapper ml-4"},[e("span",{staticClass:"map-signal mr-2",class:{"bg-success":1===t.bedStatus}}),1===t.bedStatus?e("span",{staticClass:"map-signal-title"},[t._v("On")]):e("span",{staticClass:"map-signal-title"},[t._v("Off")])]),2===t.position||3===t.position?e("span",{staticClass:"map-value mr-4"},[t._v("Safe")]):t._e(),1===t.position?e("span",{staticClass:"map-value mr-4"},[t._v("Falling Left")]):t._e(),4===t.position?e("span",{staticClass:"map-value mr-4"},[t._v("Falling Right")]):t._e(),0===t.position?e("span",{staticClass:"map-value mr-4"},[t._v("NaN")]):t._e()])]),t._m(5),e("div",{staticClass:"map-wrapper mx-auto"},t._l(t.pressureData,function(t,a){return e("div",{key:a,staticClass:"map-content",attrs:{"data-value":t}})}),0)])])])]),t._m(6)])},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"patient-info ml-5"},[e("span",[t._v("Bedsheet ID")]),e("br"),e("span",[t._v("N123879421")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"patient-info ml-5 mr-3"},[e("span",[t._v("Age")]),e("br"),e("span",[t._v("30")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"chart-content"},[e("canvas",{attrs:{id:"breaths",width:"100%"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",{staticClass:"chart-name mt-3"},[t._v("Respiratory"),e("br"),t._v("Rate")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"chart"},[e("div",{staticClass:"bg-chart"}),e("div",{staticClass:"chart-content"},[e("canvas",{attrs:{id:"hearts",width:"100%"}})]),e("div",{staticClass:"chart-status"},[e("div",{staticClass:"status-wrapper ml-3"},[e("span",{staticClass:"chart-name mt-3"},[t._v("Heart"),e("br"),t._v("Rate")]),e("span",{staticClass:"chart-value mt-4"},[t._v("- -")]),e("span",{staticClass:"chart-unit"},[t._v("beats per mins.")])])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"map-color my-3"},[e("span",{staticStyle:{background:"rgba(70, 143, 236, 0.5)","border-radius":"5px 0 0 5px"}}),e("span",{staticStyle:{background:"rgba(49, 184, 7, 0.5)"}}),e("span",{staticStyle:{background:"rgba(252, 218, 27, 0.5)"}}),e("span",{staticStyle:{background:"rgba(252, 158, 27, 0.5)"}}),e("span",{staticStyle:{background:"rgba(244, 67, 54, 0.5)"}}),e("span",{staticStyle:{background:"rgba(205, 14, 0, 0.5)","border-radius":"0 5px 5px 0"}})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("audio",{attrs:{id:"sound"}},[s("source",{attrs:{src:e("d3ef"),type:"audio/mp3"}})])}],n=(e("28a5"),e("75fc"));e("ac6a");function i(t){throw new Error('"'+t+'" is read-only')}e("5df3"),e("1c4c");var l=e("30ef"),o=e.n(l),c=e("d722"),u={data:function(){return{isCors:this.$store.state.isCors,nowTime:Math.floor((new Date).getTime()/1e3),position:0,pressureData:[],isHistoryMode:!1,breathsChart:null,reUpdateBreaths:null,bedStatus:0,rangeValue:0,breathsRate:0,breathsData:{labels:[],value:[]},heartsChart:null,heartsData:{labels:[],value:[]},updateAll:null}},watch:{bedStatus:function(t){var a=document.querySelector("#sound");0!==t&&a.play()}},computed:{fakeHisToryBreathsData:function(){return Array.from(new Array(3600)).map(function(t,a){return Math.floor(Math.random()*(a-a+1+30)+50)})},token:function(){return JSON.parse(localStorage.getItem("token")).token},userID:function(){return this.$route.params.id}},methods:{enterDashboard:function(){var t=this;t.$store.dispatch("loadingOverlay"),setTimeout(function(){t.$store.dispatch("loadingOverlay"),window.location.href="https://easonliu841116.github.io/-Forwarding/"},750)},getPressureMapData:function(t,a,e){var s=this,r=document.getElementById("range").value,n=Math.floor(new Date(document.getElementById("date").value).getTime()/1e3);if(t){if(!n)return void alert("請先選擇日期");a=n-86400,e=3600*(i("range"),r--)}var l=a+e;return c["a"].pressureData(s.isCors,a,l,s.userID,s.token).then(function(t){return t.json()}).then(function(t){s.position=t.data.position,s.pressureData=t.data.value}).then(function(){return s.mapConfig()})},mapConfig:function(){var t=document.getElementsByClassName("map-content");Object(n["a"])(t).forEach(function(t){t.dataset.value>=1400?t.style.background="rgba(205, 14, 0, 0.5)":t.dataset.value>=1200&&t.dataset.value<1400?t.style.background="rgba(244, 67, 54, 0.5)":t.dataset.value>=1e3&&t.dataset.value<1200?t.style.background="rgba(252, 158, 27, 0.5)":t.dataset.value>=700&&t.dataset.value<1e3?t.style.background="rgba(252, 218, 27, 0.5)":t.dataset.value>=400&&t.dataset.value<700?t.style.background="rgba(49, 184, 7, 0.5)":t.dataset.value<400&&t.dataset.value>200?t.style.background="rgba(70, 143, 236, 0.5)":t.style.background="#FFF"})},updateMap:function(){var t=this;t.isHistoryMode=!1,t.reUpdateMap=setInterval(function(){t.getPressureMapData(!1,t.nowTime,1),t.getBedStatus(t.nowTime,1),t.nowTime++},1e3)},toggleHistoryMap:function(){var t=this,a=document.getElementsByClassName("map-content");clearInterval(t.updateAll),t.isHistoryMode=!0,t.$store.dispatch("loadingOverlay"),setTimeout(function(){Object(n["a"])(a).forEach(function(t){t.style.background="rgba(255, 255, 255, 0.25)"}),t.$store.dispatch("loadingOverlay")},2e3)},getBedStatus:function(t,a){var e=this,s=t+a;return c["a"].bedStatus(e.isCors,t,s,e.userID,e.token).then(function(t){return t.json()}).then(function(t){e.bedStatus=t.data[0].value})},getBreathsData:function(t,a,e){var s=this,r=s.rangeValue,n=Math.floor(new Date(document.getElementById("date").value).getTime()/1e3);if(e){if(console.log("range",r,s.rangeValue,e),!n)return void alert("請先選擇日期");t=n+3600*s.rangeValue--,a=3600,console.log(t,a)}var i=t+a;return c["a"].breathsData(s.isCors,t,i,s.userID,s.token).finally(function(t){s.breathsRate=Math.floor(15+5*Math.random()),e?s.appendBreathsData(s.fakeHisToryBreathsData,e):s.appendBreathsData(1)})},toggleHistoryMode:function(t,a){var e=this;clearInterval(e.reUpdateBreaths),clearInterval(e.reUpdateHearts),e.breathsChart.destroy(),e.breathsData.labels=[],e.breathsData.value=[],e.getBreathsData(t,a,!0)},getHeartsData:function(t,a,e){var s=this,r=s.rangeValue,n=Math.floor(new Date(document.getElementById("date").value).getTime()/1e3);if(e){if(console.log("range",r,s.rangeValue,e),!n)return;t=n+3600*s.rangeValue--,a=3600,console.log(t,a)}var i=t+a;return c["a"].heartsData(s.isCors,t,i,s.userID,s.token).then(function(t){return t.json()}).then(function(t){}).finally(function(t){e?(s.setBreathsChart(),s.appendHeartsData(s.fakeHisToryBreathsData,e)):s.appendHeartsData(1)})},setBreathsChart:function(){var t=this,a=document.getElementById("breaths").getContext("2d");t.breathsChart=new o.a(a,{type:"line",data:{labels:t.breathsData.labels,datasets:[{label:"",data:t.breathsData.value,radius:0,borderColor:"rgb(78, 178, 211)",fill:!1}]},responsive:!0,options:{legend:{display:!1},tooltips:{intersect:!1},scales:{xAxes:[{minRotation:2,gridLines:!1,display:!1}],yAxes:[{ticks:{beginAtZero:!1,suggestedMin:10,suggestedMax:25,display:!1},scaleLabel:{display:!0,labelString:""},gridLines:!1}]}}})},setHeartsChart:function(){var t=this,a=document.getElementById("hearts").getContext("2d");t.heartsChart=new o.a(a,{type:"line",data:{labels:t.heartsData.labels,datasets:[{label:"",radius:0,data:t.heartsData.value,borderColor:"rgb(78, 178, 211)",fill:!1}]},responsive:!0,options:{legend:{display:!1},tooltips:{intersect:!1},scales:{xAxes:[{gridLines:!1,display:!1}],yAxes:[{ticks:{beginAtZero:!1,suggestedMin:40,suggestedMax:100,display:!1},scaleLabel:{display:!0,labelString:""},gridLines:!1}]}}})},appendBreathsData:function(t){var a,e,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this;s?(r.setBreathsChart(),(a=r.breathsData.labels).push.apply(a,Object(n["a"])(String(t).split(","))),(e=r.breathsData.value).push.apply(e,Object(n["a"])(t)),r.breathsChart.update()):(r.breathsData.labels.length>8&&(r.breathsChart.data.labels.shift(),r.breathsChart.data.datasets[0].data.shift()),r.breathsData.labels.push("00:00"),r.breathsData.value.push(Math.floor(15+5*Math.random())),r.breathsChart.update())},appendHeartsData:function(t){var a,e,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this;s?((a=r.heartsData.labels).push.apply(a,Object(n["a"])(t)),(e=r.heartsData.value).push.apply(e,Object(n["a"])(t)),r.heartsChart.update()):(r.heartsData.labels.length>8&&(r.heartsChart.data.labels.shift(),r.heartsChart.data.datasets[0].data.shift()),r.heartsData.labels.push("00:00"),r.heartsData.value.push(Math.floor(31*Math.random())+50),r.heartsChart.update())},updateChart:function(){var t=this;t.reUpdateBreaths=setInterval(function(){return t.getBreathsData(t.nowTime,1)},1e3)}},mounted:function(){this.setBreathsChart(),this.updateMap(),this.updateChart();new Pikaday({field:document.getElementById("date"),trigger:document.getElementById("calendar-trigger")})},beforeDestroy:function(){clearInterval(this.updateAll)}},d=u,p=(e("99c6"),e("2877")),h=Object(p["a"])(d,s,r,!1,null,null,null);a["default"]=h.exports},d3ef:function(t,a,e){t.exports=e.p+"media/Beep_Short.0063e353.mp3"}}]);
//# sourceMappingURL=chunk-62f5aef2.40856106.js.map