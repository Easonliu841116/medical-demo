(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18ea177c"],{1478:function(t,a,e){},"4f1e":function(t,a,e){"use strict";var s=e("1478"),i=e.n(s);i.a},7277:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"dashboard-container"},[e("div",{staticClass:"dashboard-wrapper"},[t._m(0),e("main",{staticClass:"main pt-5"},[e("aside",{staticClass:"menu-wrapper ml-3"},[e("div",{staticClass:"menu"},[e("h2",{staticClass:"floor-title mt-2"},[t._v("Floor")]),e("a",{staticClass:"floor mt-1",attrs:{href:"#"},on:{click:function(t){t.preventDefault()}}},[t._v("16")]),e("a",{staticClass:"floor my-3",attrs:{href:"#"},on:{click:function(t){t.preventDefault()}}},[t._v("18")])]),e("button",{staticClass:"logout mb-3 ml-1"})]),e("section",{staticClass:"main-content"},[t._l(t.breathsDataAll,function(a){return e("div",{key:a.id,staticClass:"patient mx-2 mb-3",on:{click:function(e){return t.enterDetail(a.userID)}}},[e("div",{staticClass:"info-wrapper mt-3"},[e("div",{staticClass:"num ml-3"},[t._v(t._s(a.userID))]),t._m(1,!0)]),e("div",{staticClass:"mt-3 w-100 chart-content"},[e("canvas",{staticClass:"chart",attrs:{id:"chart-"+a.userID,width:"100%"}})])])}),t._m(2)],2)])])])])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"nav-column mt-5"},[e("div",{staticClass:"title-wrapper"},[e("div",{staticClass:"logo ml-4"}),e("h1",{staticClass:"title ml-4"},[t._v("Dashboard")])]),e("div",{staticClass:"description-wrapper"},[e("p",{staticClass:"description m-0"},[t._v("Sherman Oaks Medical Supplies")]),e("button",{staticClass:"hint ml-2 mr-4"})])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"info-content ml-2"},[e("span",{staticClass:"name"},[t._v("Frederick Bradley")]),e("span",{staticClass:"status"},[t._v("Reposition 1:24")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"add-patient mx-3"},[e("button",{staticClass:"btn-addpatient"})])}],n=(e("456d"),e("ac6a"),e("75fc")),r=e("d722"),l=e("30ef"),o=e.n(l),c={data:function(){return{admin:{adminView:null},patientGroup:{all:[],group1:[],group2:[]},nowTime:Math.floor((new Date).getTime()/1e3),breathsDataAll:[],isCors:this.$store.state.isCors,reGetRealTime:null,charts:[],breathsData:{labels:[],value:[]}}},computed:{token:function(){return JSON.parse(localStorage.getItem("token")).token}},methods:{enterDetail:function(t){var a=this;localStorage.setItem("userID",JSON.stringify({userID:t})),a.$store.dispatch("loadingOverlay"),setTimeout(function(){a.$store.dispatch("loadingOverlay"),a.$router.push({path:"detail/".concat(t)})},750)},getPatinetsInfo:function(t,a){var e=this,s=t+a;return r["a"].breathsDataAll(e.isCors,t,s,e.token).then(function(t){return t.json()}).then(function(t){console.log(t.data),e.breathsDataAll=t.data,e.breathsDataAll=[{value:0,time:"2019-09-28T17:05:01.833896Z",userID:"11"},{value:0,time:"2019-09-20T03:56:38.567222Z",userID:"12"},{value:1,time:"2019-10-16T06:03:06.576202Z",userID:"13"},{value:1,time:"2019-10-16T06:03:06.576202Z",userID:"14"},{value:1,time:"2019-10-16T06:03:06.576202Z",userID:"15"},{value:1,time:"2019-10-16T06:03:06.576202Z",userID:"16"},{value:1,time:"2019-10-16T06:03:06.576202Z",userID:"17"},{value:1,time:"2019-10-16T06:03:06.576202Z",userID:"18"},{value:1,time:"2019-10-16T06:03:06.576202Z",userID:"19"}],e.setAdminView()})},getAdminInfo:function(){var t=this;t.admin.adminView="all"},setAdminView:function(){var t=this;"group1"===t.admin.adminView?t.patients=Object(n["a"])(t.patientGroup.group1):"group2"===t.admin.adminView?t.patients=Object(n["a"])(t.patientGroup.group2):"all"===t.admin.adminView&&(t.patients=t.patientGroup.group1)},updateChart:function(){var t=this;t.reGetRealTime=setInterval(function(){t.getPatinetsInfo(t.nowTime,1),t.nowTime++},1e3)},initChart:function(){var t=this,a=document.getElementsByClassName("chart");Object(n["a"])(a).forEach(function(a){t.charts[a.id]=new o.a(a,{labels:t.breathsData.labels,type:"line",data:{labels:"",datasets:[{label:"",radius:0,data:[],borderColor:"rgb(78, 178, 211)",fill:!1}]},responsive:!1,options:{legend:{display:!1},tooltips:{intersect:!1},scales:{xAxes:[{gridLines:!1,afterFit:function(t){t.height="7"}}],yAxes:[{ticks:{beginAtZero:!1,suggestedMin:0,suggestedMax:100,display:!1},scaleLabel:{display:!0,labelString:""},gridLines:!1}]}}})})},setChart:function(){var t=this;t.breathsDataAll.forEach(function(a){Object.keys(t.charts).forEach(function(e){if("chart-"+a.userID===e){var s=t.charts[e];return s.data.datasets[0].data.push(Math.floor(51*Math.random())+30),s.data.labels.push("00:00"),s.data.labels.length>5&&(s.data.labels.shift(),s.data.datasets[0].data.shift()),void s.update()}})})}},created:function(){this.$store.dispatch("loadingOverlay"),this.setAdminView(),this.getAdminInfo()},beforeDestroy:function(){document.querySelectorAll(".chart");clearInterval(this.reGetRealTime)},mounted:function(){var t=this;this.updateChart(),setTimeout(function(){t.$store.dispatch("loadingOverlay")},2e3)},updated:function(){var t=this;0==Object.keys(t.charts).length?t.initChart():Object.keys(t.charts).length>0&&t.setChart()}},u=c,d=(e("4f1e"),e("2877")),h=Object(d["a"])(u,s,i,!1,null,null,null);a["default"]=h.exports}}]);
//# sourceMappingURL=chunk-18ea177c.0c83c7f7.js.map